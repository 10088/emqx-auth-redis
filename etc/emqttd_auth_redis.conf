{redis, pool, [
  %% pool options
  {pool_size, 8},
  {auto_reconnect, 2},

  %% redis options
  {host, "127.0.0.1"},
  {port, 6379},
  {database, 0},
  {password, ""}
]}.

%% Variables: %u = username, %c = clientid

%% HMGET mqtt_user:%u is_superuser
{supercmd, pool, ["HGET", "mqtt_user:%u", "is_superuser"]}.

%% HMGET mqtt_user:%u password
{authcmd, pool, ["HGET", "mqtt_user:%u", "password"]}.

%% Password hash algorithm: plain, md5, sha, sha256, pbkdf2?
{password_hash, sha256}.

%% SMEMBERS mqtt_acl:%u
{aclcmd, pool, ["SMEMBERS", "mqtt_acl:%u"]}.

%% If no rules matched, return...
{acl_nomatch, deny}.

%% Load Subscriptions form Redis when client connected.
{subcmd, pool, ["HGETALL", "mqtt_subs:%u"]}.

